---
slug: /web3-api/configuration
title: Configuration
hide_title: true
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

:::info
Web3 API is currently in Beta. To try it out, please [contact our business team](https://thirdweb.com/contact-us).
:::

# Configuration

## Prerequisites

Before you begin, ensure you have the following:

- [ ] Docker
- [ ] PostgreSQL
- [ ] Wallet with funds
- [ ] thirdweb secret key

## Part 1: Wallet Configuration

To use web3 API, you will need to initiate it with an admin wallet using one of the following options:

### Backend Wallet

1. Setup a `.env` file at the root of your projectâ€™s repository
2. Set the following variables in your `.env` file:

   ````json
   POSTGRES_CONNECTION_URL=<YOUR_CONNECTION_URL>
   THIRDWEB_SDK_SECRET_KEY=<YOUR_SECRET_KEY>
   ```
   ````

### AWS KMS

Web3-API supports AWS KMS for signing & sending transactions over any EVM chain.

1. Setup a managed key through AWS KMS.
   1. Create an IAM user with programmatic access. Follow the instructions in the AWS documentation on **[creating an IAM user in your AWS account](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html#id_users_create_console)**.
   2. Enable Create, Get, and Read permissions for your KMS. Learn more about **[authentication and access control for AWS KMS](https://docs.aws.amazon.com/kms/latest/developerguide/control-access.html)** in the AWS documentation.
   3. Create a KMS key by following the instructions in the AWS documentation on how to [create keys](https://docs.aws.amazon.com/kms/latest/developerguide/create-keys.html).
2. Setup a `.env` file at the root of your repository and set the following variables in this file.

   ```json
   # Required for AWS Auth
   AWS_ACCESS_KEY_ID=<aws_access_key_id>
      AWS_SECRET_ACCESS_KEY=<aws_secret_access_key>
   AWS_REGION=<aws_region>

   ```

### Google KMS

Web3-API supports Google KMS for signing & sending transactions over any EVM chain.

1. Setup a managed key through Google KMS.
   1. Create an encrypted key with Cloud KMS. Learn how to [Create encryption keys with Cloud KMS](https://cloud.google.com/kms/docs/create-encryption-keys#before-you-begin) from the Google Cloud documentation.
   2. Create a Service Account. Learn how to [Create service accounts](https://cloud.google.com/iam/docs/service-accounts-create) in the Google Cloud documentation.
   3. Create a key with this service account.
   4. Download the JSON file. The JSON file details will be used to authenticate with Google KMS.
   5. Add the following permissions to your service account: `Cloud KMS Admin` and `Cloud KMS CryptoKey Signer/Verifier`
2. Setup a `.env` file at the root of your repository
3. Set the following variables in your `.env` file:

   ```json
   # Required for Google Auth
   GOOGLE_APPLICATION_CREDENTIAL_EMAIL=<client_email_from_download_service_account_json>
   GOOGLE_APPLICATION_CREDENTIAL_PRIVATE_KEY=<private_key_from_download_service_account_json>

   # Required for Google KMS
   GOOGLE_APPLICATION_PROJECT_ID=<google_project_id>
   GOOGLE_KMS_KEY_RING_ID=<key_ring_id>
   GOOGLE_KMS_LOCATION_ID=<location_of_key_ring>
   ```

## Part 2: Server Configuration

While in beta, Web3 API only offers self-hosted options. To use Web3 API, you will need to host your own server using a containerization platform such as Docker or Kubernetes.

### Configure Server Using Docker

To host your own server with Docker:

1. [Install Docker](https://docs.docker.com/get-docker/)
2. Add the following variables to your `.env` file at the root of your repository:

   ```

   # DEFAULT DOCKER

   POSTGRES_HOST=host.docker.internal
   POSTGRES_DATABASE_NAME=postgres
   POSTGRES_USER=postgres
   POSTGRES_PASSWORD=postgres
   ```

3. To obtain the Postgres Docker Image, navigate to the root of your project and run the following command in your command line:

   ```python
   docker run --env-file ./.env -p 5432:5432 --name my-local-postgres -d postgres
   ```

4. Afterwards, to get the Web3 API Docker Image, navigate to the root of your project and run the following command in your command line:

   ```
   docker run --env-file ./.env -p 3005:3005 --name web3-api thirdweb/web3-api:nightly
   ```

5. To authenticate, open `localhost:3005` in your browser.
6. Select the `Authorize` option on the dashboard.

   ![Screenshot of how to authorize via Swagger](./assets/authorize-api.png)

7. Pass in your corresponding secret key created from the thirdweb dashboard and select Authorize.

   ![Screenshot of passing in Bearer auth field](./assets/authorize-bearer.png)

8. You are now ready to begin developing using APIs. To see a demonstration of endpoints, please visit the `Get Started` tutorial.

### Authorization Header

All Requests need to have `Authorization` header with the value of `Bearer <YOUR_THIRDWEB_SDK_SECRET_KEY>` from the `.env` file.

For specific examples of implementation, follow along with our Get Started tutorial.
