---
title: Direct Listings
slug: /directlistings
toc_max_heading_level: 2 # Show up to h2 in table of contents (default is up to h3)
---

# DirectListings

Functionality available for contracts that implement the [`IDirectListings`](/contracts/IDirectListings) interface.

## approveBuyerForReservedListing

Approve a wallet address to be able to buy a reserved listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing you want to approve a buyer for.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### buyer

The wallet address of the buyer you want to approve.

Must be a `string`.

```csharp

```

</div>
</details>

## buyFromListing

Buy an NFT from a listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing.

Must be a `string`.

```csharp

```

#### quantity

The number of tokens to buy (default is `1` for ERC721 NFTs)

Must be a `string` or `number`.

```csharp

```

#### buyer

The wallet address of the buyer.

Must be a `string`.

```csharp

```

</div>
</details>

## cancelListing

Cancel a listing that you created.

Only the creator of the listing can cancel it.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing you want to cancel.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

</div>
</details>

## createListing

Create a new direct listing on the marketplace.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### assetContractAddress (required)

The smart contract address of the NFT you want to list for sale.

Must be a `string`.

```csharp

```

#### tokenId (required)

The token ID of the NFT you want to list for sale.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### pricePerToken (required)

The price of each token in the listing.

- For ERC721 NFTs, this is the price to buy the NFT.
- For ERC1155 NFTs, this is the price to buy one token in the listing.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### currencyContractAddress (optional)

The address of the ERC20 token smart contract you want buyers to pay with.

Defaults to `NATIVE_TOKEN_ADDRESS` if not provided. e.g. Ether for Ethereum.

Must be a `string`.

```csharp

```

#### isReservedListing (optional)

Whether the listing is reserved or not.

Reserved listings can only be bought by specific wallet addresses, which you can add by calling
[`approveBuyerForReservedListing`](#approvebuyerforreservedlisting).

Must be a `boolean`. Defaults to `false`.

```csharp

```

#### quantity (optional)

For ERC1155 NFTs, the number of tokens to sell in the listing.

For ERC721 NFTs, this is always `1`.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### startTimestamp (optional)

The start timestamp of the listing.

Must be a `Date`. The default is `new Date()` (now).

```csharp

```

#### endTimestamp (optional)

The end timestamp of the listing.

Must be a `Date`. The default is 7 days from now.

```csharp

```

</div>
</details>

## getAll

Retrieve data for all direct listings on the marketplace.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### filter (optional)

Optionally, provide a filter object to narrow the returned results.

```csharp

```

### Return Value

Returns an array of `DirectListingV3` objects containing the following properties:

```typescript
{
  id: string; // The id of the listing.
  creatorAddress: string; // The address of the creator of listing.
  assetContractAddress: string; // The address of the asset being listed.
  tokenId: string; // The ID of the token to list.
  quantity: string; //  The quantity of tokens to include in the listing (always 1 for ERC721).
  currencyContractAddress: string; // The address of the currency to accept for the listing.
  currencyValuePerToken: CurrencyValue; // The `CurrencyValue` of the listing. Useful for displaying the price information.
  pricePerToken: string; // The price to pay per unit of NFTs listed.
  asset: NFTMetadata; // The asset being listed.
  startTimeInSeconds: number; // The start time of the listing.
  endTimeInSeconds: number; // The end time of the listing.
  isReservedListing: boolean; // Whether the listing is reserved to be bought from a specific set of buyers.
  status: Status; // Whether the listing is CREATED, COMPLETED, or CANCELLED.
}
```

</div>
</details>

## getAllValid

Get all the valid direct listings on the marketplace.

A listing is considered valid if the:

- Seller still owns the NFT
- Listing has not expired (time is before endTimeInSeconds)
- Listing has not been canceled
- Listing has not been bought out (all quantity of the NFTs have not been purchased)

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### filter (optional)

Optionally, provide a filter object to narrow the returned results.

```csharp

```

### Return Value

Returns an array of `DirectListingV3` objects containing the following properties:

```typescript
{
  id: string; // The id of the listing.
  creatorAddress: string; // The address of the creator of listing.
  assetContractAddress: string; // The address of the asset being listed.
  tokenId: string; // The ID of the token to list.
  quantity: string; //  The quantity of tokens to include in the listing (always 1 for ERC721).
  currencyContractAddress: string; // The address of the currency to accept for the listing.
  currencyValuePerToken: CurrencyValue; // The `CurrencyValue` of the listing. Useful for displaying the price information.
  pricePerToken: string; // The price to pay per unit of NFTs listed.
  asset: NFTMetadata; // The asset being listed.
  startTimeInSeconds: number; // The start time of the listing.
  endTimeInSeconds: number; // The end time of the listing.
  isReservedListing: boolean; // Whether the listing is reserved to be bought from a specific set of buyers.
  status: Status; // Whether the listing is CREATED, COMPLETED, or CANCELLED.
}
```

</div>
</details>

## getListing

Retrieve data for a specific direct listing on the marketplace using the listing ID.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing to retrieve.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

### Return Value

Returns a `DirectListingV3` object containing the following properties:

```typescript
{
  id: string; // The id of the listing.
  creatorAddress: string; // The address of the creator of listing.
  assetContractAddress: string; // The address of the asset being listed.
  tokenId: string; // The ID of the token to list.
  quantity: string; //  The quantity of tokens to include in the listing (always 1 for ERC721).
  currencyContractAddress: string; // The address of the currency to accept for the listing.
  currencyValuePerToken: CurrencyValue; // The `CurrencyValue` of the listing. Useful for displaying the price information.
  pricePerToken: string; // The price to pay per unit of NFTs listed.
  asset: NFTMetadata; // The asset being listed.
  startTimeInSeconds: number; // The start time of the listing.
  endTimeInSeconds: number; // The end time of the listing.
  isReservedListing: boolean; // Whether the listing is reserved to be bought from a specific set of buyers.
  status: Status; // Whether the listing is CREATED, COMPLETED, or CANCELLED.
}
```

</div>
</details>

## getTotalCount

Get the total number of direct listings on the marketplace.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

### Return Value

Returns a `BigNumber` representing the total number of direct listings on the marketplace.

```csharp

```

</div>
</details>

## isBuyerApprovedForListing

Check if a buyer is approved to purchase a reserved listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing to check.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### buyerAddress

The wallet address of the buyer to check.

Must be a `string`.

```csharp

```

### Return Value

Returns a `boolean` representing whether the buyer is approved to purchase the listing.

```csharp

```

</div>
</details>

## isCurrencyApprovedForListing

Check whether you can use a specific currency to purchase a listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing to check.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### currencyContractAddress

The smart contract address of the ERC20 token to check.

Must be a `string`.

```csharp

```

### Return Value

Returns a `boolean` representing whether the currency is approved to purchase the listing.

```csharp

```

</div>
</details>

## revokeBuyerApprovalForReservedListing

Revoke approval for a buyer to purchase a reserved listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing to revoke approval for.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### buyerAddress

The wallet address of the buyer to revoke approval for.

Must be a `string`.

```csharp

```

</div>
</details>

## revokeCurrencyApprovalForListing

Revoke approval for a currency to purchase a listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing to revoke approval for.

Must be a `string`, `number`, or `BigNumber`.

```csharp

```

#### currencyContractAddress

The smart contract address of the ERC20 token to revoke approval for.

Must be a `string`.

Use the `NATIVE_TOKEN_ADDRESS` constant to revoke approval for the native currency.

```csharp

```

</div>
</details>

## updateListing

Update a previously created listing.

```csharp

```

<details>
  <summary>Configuration</summary>
  <div>

#### listingId

The ID of the listing to update.

#### listing

The information to update about the listing.

If you do not want to update a field, do not include it in the provided `listing` object. The previous value will be used.

For information about each property, see [`createListing`](#createlisting).

</div>
</details>
