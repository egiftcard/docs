---
slug: /wallet/embeddedwallet
title: EmbeddedWallet
---

Creates or logs in to a wallet using thirdweb's own Embedded Wallet service.
Set your client ID in your [ThirdwebManager](/unity/thirdwebmanager), enable the Embedded Wallet service, and enjoy multiple seamless cross-platform persistent login flows.

## Usage

### Login with Email

Prompt for an OTP code sent to the user's email address.
Logs you in automatically if you have already logged in with the same email address.

```csharp
using Thirdweb;

public async void ConnectWallet()
{
    // Reference to your Thirdweb SDK
    var sdk = ThirdwebManager.Instance.SDK;

    // Configure the connection
    var connection = new WalletConnection(
        provider: WalletProvider.EmbeddedWallet,
        chainId: 1,
        email: "email@email.com",
    );

    // Connect the wallet
    string address = await sdk.wallet.Connect(connection);
}
```

### Login with OAuth2 (Google, etc.)

Go through the OAuth2 login flow, redirect to the app after login is complete.

On mobile, it is recommended to set a custom scheme for your app to enable Google login flows on Android and iOS.
To do so, see the [ThirdwebManager](/unity/thirdwebmanager) - `ThirdwebConfig` and update it with your custom scheme (such as `myapp://`)
You may allowlist that scheme in your API key Embedded Wallet settings.

```csharp
using Thirdweb;

public async void ConnectWallet()
{
    // Reference to your Thirdweb SDK
    var sdk = ThirdwebManager.Instance.SDK;

    // Configure the connection
    var connection = new WalletConnection(
        provider: WalletProvider.EmbeddedWallet,
        chainId: 1,
        authOptions: new AuthOptions(
            authProvider: AuthProvider.Google,
        )
    );

    // Connect the wallet
    string address = await sdk.wallet.Connect(connection);
}
```

### Bring your own Auth

Setup a custom authentication flow using an auth token like JWT.
Requires a JWKS URI and AUD setup in your [API Key configuration](https://thirdweb.com/create-api-key) to verify the token.

```csharp
using Thirdweb;

public async void ConnectWallet()
{
    // Reference to your Thirdweb SDK
    var sdk = ThirdwebManager.Instance.SDK;

    // Configure the connection
    var connection = new WalletConnection(
        provider: WalletProvider.EmbeddedWallet,
        chainId: 1,
        email: "email@email.com",
        authOptions: new AuthOptions(
            authProvider: AuthProvider.CustomAuth,
            authToken: "your-auth-token-here",
        )
    );

    // Connect the wallet
    string address = await sdk.wallet.Connect(connection);
}
```

## Behavior

### WebGL

If using Email OTP flow, displays a modal where you can input your OTP code.

If using Google OAuth2 flow, opens a popup where you can login with your Google account. If successful, the popup will close and the wallet will connect.

If using Custom JWT flow, attempts to connect directly after verifying the JWT token and encryption key.

### Standalone

If using Email OTP flow, displays a modal where you can input your OTP code.

If using Google OAuth2 flow, opens the default browser where you can login with your Google account. Connects after the login flow is complete.

If using Custom JWT flow, attempts to connect directly after verifying the JWT token and encryption key.

### Mobile

If using Email OTP flow, displays a modal where you can input your OTP code.

If using Google OAuth2 flow, interacts with native in-app browser/authentication implementations to login with your Google account. Redirects back to the app through a deep link after the login flow is complete.

If using Custom JWT flow, attempts to connect directly after verifying the JWT token and encryption key.

## Miscellaneous

You may customize the `WalletProvider_EmbeddedWallet` prefab to fit your app's design.
This prefab is used for the Email OTP flow.
